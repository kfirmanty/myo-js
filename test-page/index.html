<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>VIR</title>
    <meta name="description" content="Virgallery" />
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="../constants.js"></script>
    <script src="../aframe/components.js"></script>
    <script src="../aframe/remote.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>

  <body>
    <div
      id="splash"
      style="background-image: linear-gradient(to right, #02e5e9 , #e38aff); background-size: contain; background-position: center; background-repeat: no-repeat;"
      >
      <div class="loading"></div>
      <div class="start-button" style="display: block; opacity: 0">
        ENTER VR
      </div>
    </div>
    <a-scene id="scene" myo>
      <a-assets>
      </a-assets>
      <a-camera></a-camera>
      <a-box id="redBox" position="0 0 -15" scale="2 2 2" color="red" myo="from: -5; to: 5; property: position.y; on: orientation.roll"></a-box>
      <a-box id="blueBox" position="5 0 -15" scale="2 2 2" color="blue" myo="from: -5; to: 5; property: position.y; on: orientation.roll; name: 1"></a-box>
    </a-scene>

    <script>
      document.addEventListener("DOMContentLoaded", function() {
          const scene = document.querySelector("a-scene");
          const splash = document.querySelector("#splash");
          const loading = document.querySelector("#splash .loading");
          const startButton = document.querySelector("#splash .start-button");

          scene.addEventListener("loaded", function(e) {
              setTimeout(() => {
                  loading.style.display = "none";
                  splash.style.backgroundColor = "rgba(0, 0, 0, 0.85)";
                  startButton.style.opacity = 1;
              }, 50);
          });

          startButton.addEventListener("click", function(e) {
              splash.style.display = "none";
              if(AFRAME.systems["remote-controller"]){
                  //AFRAME.systems["remote-controller"].prototype.sceneLoaded();
              }else{
                  console.log("no remote controller system present");
              }             
              
          });
      });
    </script>
  </body>
</html>

